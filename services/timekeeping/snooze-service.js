snooze_service =(function() {  function Service() {  }  Service.prototype = {    run: function(f) {      var args = this.controller.args || {};      if (!contains_identity(args))        return missing_argument(f, 'id');            if (args.snooze) {        Timeout.snooze(args.id, args.snooze)          .complete(complete_handler(f));      }      else {        Timeout.clear('snooze')          .complete(complete_handler(f));      }    }  };  function complete_handler(f) {    return function(result) {      f.result = result;    };  }  function missing_argument(f, argument) {    f.result = {      error: true,      message: 'Missing argument [' + argument + '].'    };  }  function contains_identity(obj) {    return ((obj || {}).id || '').length > 0;  }  return Service;})();