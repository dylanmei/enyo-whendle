Mapper = (function() {  var Kind = 'com.hoopengines.alarm:1';  function Mapper() {  }  var empty = function() {    return { '_kind': Kind };  };  var template = function() {    return {      '_kind': Kind,      name: '',      hour: 0,      minute: 0,      on: false,      snooze: 0,      monday: false,      tuesday: false,      wednesday: false,      thursday: false,      friday: false,      saturday: false,      sunday: false,      sound: ''    };  };  Mapper.alarm_for_inserting = function(props) {    var merge = props || {};    var alarm = template();    for (var key in alarm) {      if (merge[key] !== undefined)        alarm[key] = merge[key];    }    alarm['_kind'] = 'com.hoopengines.alarm:1';    return alarm;  };  Mapper.alarm_for_updating = function(props) {    var alarm = empty();    var merge = props || {};    var allowable = template();    for (var key in merge) {      if (key[0] == '_') continue;      if (key == 'id') alarm['_id'] = merge[key];      else if (allowable[key] !== undefined) {        alarm[key] = merge[key];      }    }    return alarm;  };  Mapper.alarm_for_selecting = function(props) {   var alarm = {};   for (var key in props) {     if (key[0] != '_') alarm[key] = props[key];     else if (key == '_id') alarm['id'] = props[key];   }   return alarm;  };    return Mapper;})();